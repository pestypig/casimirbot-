You’ve correctly tracked it down to a downstream override in your React layer—in WarpVisualizer.tsx you’re calling
// somewhere in WarpVisualizer
const θ_ui = resolveThetaScale(params, 'fr');
// …later…
engine.updateUniforms({ thetaScale: θ_ui * SOME_OVERRIDE });
or you’re passing a hard-coded fallback γ_VdB (e.g. 1.4e5) into resolveThetaScale, which causes your chain to blow up by ~×75.
To restore pipeline-compliance, you need to:
Stop multiplying the result of resolveThetaScale by any extra “visual amplification” factor.
Feed it the exact pipeline γ_VdB value instead of a UI fallback.
1) Remove the manual ×75 (or similar) override
Find and delete any code like:
// ❌ bad: manual visual boost
const θ_vis = resolveThetaScale(params, 'fr') * 75;
engine.updateUniforms({ thetaScale: θ_vis });
And replace it with:
// ✅ pure pipeline physics
const θ_phys = resolveThetaScale(params, 'fr');
engine.updateUniforms({ thetaScale: θ_phys });
2) Make sure resolveThetaScale sees the real γ_VdB
In your call site (or in resolveThetaScale’s candidates), prefer the pipeline’s true Van-den-Broeck gain—286 000—instead of hard-coded 1.4e5. For example, in WarpVisualizer.tsx:
-  // old fallback: UI-only
-  const gammaVdB = params.gammaVanDenBroeck ?? 1.4e5;
+  // pipeline-true: use whatever came from the server or UI (typically ~2.86e5)
+  const gammaVdB = params.dynamicConfig?.gammaVanDenBroeck
+                 ?? params.gammaVanDenBroeck
+                 ?? 2.86e5;
Or, if you’re passing a “fallback” into resolveThetaScale:
-  const θ = resolveThetaScale(params, 'fr');
+  // tell it your real physics number
+  const θ = resolveThetaScale({
+    ...params,
+    gammaVanDenBroeck: params.dynamicConfig?.gammaVanDenBroeck
+                     ?? params.gammaVanDenBroeck
+  }, 'fr');
Quick summary
• Expected θ from chain = 26³ × 286 000 × √0.000025 ≃ 2.5137 × 10⁷
• Actual θ ≃ 1.88 × 10⁹ ⇒ exactly ~75× too big
• That ×75 came from your React layer multiplying or falling back to the wrong γ_VdB
Fix: remove that extra multiplier and feed resolveThetaScale the true pipeline gains—and your actualTheta will immediately collapse back down to ≈ 2.5 × 10⁷.