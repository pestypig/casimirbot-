You’re right—`Active Tiles (Energized)` is staying flat because it’s showing the backend’s `activeTiles` as-is. Since the instantaneous energized count *should* depend on mode (sectors & duty), we can derive a mode-aware value on the client and display that instead (or fall back to the server if present and sensible).

Here’s a safe, minimal patch you can drop into `client/src/pages/helix-core.tsx`:

### 1) Add helpers near your other formatters

```ts
// derive instantaneous active tiles from pipeline/system state
const deriveActiveTiles = (
  totalTiles?: number,
  sectors?: number,
  duty?: number,
  mode?: 'standby'|'hover'|'cruise'|'emergency'
) => {
  if (!isFiniteNumber(totalTiles) || !isFiniteNumber(sectors) || sectors <= 0) return undefined;
  if (mode === 'standby' || !isFiniteNumber(duty) || duty <= 0) return 0;

  // Rule of thumb (consistent w/ strobing model and your tooltip):
  // • If S > 1 (strobing): one sector is energized at a time → tilesPerSector
  // • If S = 1 (no strobing): a duty fraction of the whole grid can be energized at once
  if (sectors > 1) {
    return Math.round(totalTiles / sectors);
  } else {
    return Math.round(totalTiles * duty);
  }
};
```

### 2) Compute a mode-aware display value right before the JSX block that renders the “Active Tiles” card

```ts
// Pull inputs
const totalTilesLive =
  (systemMetrics?.totalTiles && isFiniteNumber(systemMetrics.totalTiles))
    ? systemMetrics.totalTiles
    : (isFiniteNumber(pipeline?.N_tiles) ? pipeline!.N_tiles! : undefined);

const sectorsLive = isFiniteNumber(systemMetrics?.sectorStrobing)
  ? systemMetrics!.sectorStrobing!
  : (isFiniteNumber(pipeline?.sectorStrobing) ? pipeline!.sectorStrobing! : (MODE_CONFIGS[effectiveMode]?.sectorStrobing ?? 1));

const dutyLive = isFiniteNumber(pipeline?.dutyCycle)
  ? pipeline!.dutyCycle!
  : (MODE_CONFIGS[effectiveMode]?.dutyCycle ?? 0);

// Derived count (mode-aware)
const derivedActiveTiles = deriveActiveTiles(totalTilesLive, sectorsLive, dutyLive, effectiveMode);

// Prefer a sensible live server value, but override if it’s missing or obviously stale
const activeTilesDisplay = (() => {
  const serverVal = systemMetrics?.activeTiles;
  if (isFiniteNumber(serverVal)) {
    // If server value matches our derivation (or is close), trust server
    if (isFiniteNumber(derivedActiveTiles)) {
      const diff = Math.abs(serverVal - derivedActiveTiles);
      const rel = derivedActiveTiles === 0 ? diff : diff / derivedActiveTiles;
      return rel < 0.05 ? serverVal : derivedActiveTiles; // >5% drift → use derived
    }
    return serverVal;
  }
  // No server value → use derived or a small fallback
  return isFiniteNumber(derivedActiveTiles) ? derivedActiveTiles : 2_800_000;
})();
```

### 3) Replace the JSX for the “Active Tiles (Energized)” number

Find the block you quoted and replace just the number binding:

```diff
- <p className="text-lg font-mono text-cyan-400">
-   {isFiniteNumber(systemMetrics?.activeTiles)
-     ? systemMetrics!.activeTiles.toLocaleString()
-     : '2,800,000'}
- </p>
+ <p className="text-lg font-mono text-cyan-400">
+   {isFiniteNumber(activeTilesDisplay)
+     ? activeTilesDisplay.toLocaleString()
+     : '2,800,000'}
+ </p>
```

### Why this fixes it

* **Cruise (e.g., S=400):** we show roughly `tilesPerSector = totalTiles / 400`, which is the “tiny fraction” the tooltip promises.
* **Hover/Emergency (S=1):** we show `round(totalTiles × duty)`—more tiles energized instantly since there’s no strobing.
* **Standby:** 0.
* If the backend later returns a correct `activeTiles`, the client honors it (within a 5% tolerance). Until then, you get mode-sensitive values.

If you also want the little gray line under it to surface the math, you can add:

```tsx
{isFiniteNumber(sectorsLive) && (
  <p className="text-xs text-slate-500 mt-1">
    {sectorsLive > 1
      ? `${sectorsLive} sectors • ~${Math.round((1/sectorsLive)*10000)/100}% of grid`
      : `${(dutyLive*100).toFixed(1)}% duty • no strobing`}
  </p>
)}
```

That’s it—after this, switching modes should change the energized tile count in a way that matches the pipeline’s strobing/duty behavior.
