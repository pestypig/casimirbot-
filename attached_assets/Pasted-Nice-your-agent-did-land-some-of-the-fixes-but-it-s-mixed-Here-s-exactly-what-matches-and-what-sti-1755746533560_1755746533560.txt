Nice—your agent did land some of the fixes, but it’s mixed. Here’s exactly what matches and what still needs a tweak, with drop‑in snippets.

# What’s correct now

* ✅ **MetricsDashboard:** `deriveActiveTiles` uses `BURST = 0.01` (the 1% local window).
* ✅ **TS defaults (some places):** Hero `WarpVisualizer` uses `tsRatio: pipeline?.TS_ratio || 5.03e4`.

# What still needs changing (with patches)

## 1) `deriveActiveTiles` in **HelixCore** (still missing BURST)

Replace your helper at the top of **HelixCore** with the burst‑aware one:

```ts
const deriveActiveTiles = (
  totalTiles?: number,
  sectors?: number,
  duty?: number,
  mode?: 'standby'|'hover'|'cruise'|'emergency'
) => {
  if (!isFiniteNumber(totalTiles) || !isFiniteNumber(sectors) || sectors <= 0) return undefined;
  if (mode === 'standby' || !isFiniteNumber(duty) || duty <= 0) return 0;

  const BURST = 0.01; // local ON window
  if (sectors > 1) return Math.round((totalTiles / sectors) * BURST);
  return Math.round(totalTiles * duty * BURST);
};
```

…and update the subtitle so it reflects the burst window:

```tsx
{sectorsLive > 1
  ? `${sectorsLive} sectors • ~${(100 / sectorsLive * 0.01).toFixed(2)}% of grid ON`
  : `${(dutyLive*100).toFixed(1)}% eligible • 1% local ON`}
```

## 2) `epsilonTilt` in **HelixCore** (you computed it, then hard‑coded `5e-7`)

Use the *computed* `epsilonTilt` as the fallback everywhere you pass it:

```tsx
const epsilonTilt = Math.min(5e-7, Math.max(0, (gTarget * R_geom) / (c*c)));

epsilonTilt: systemMetrics?.shiftVector?.epsilonTilt ?? epsilonTilt,
...
shift: {
  epsilonTilt: systemMetrics?.shiftVector?.epsilonTilt ?? epsilonTilt,
  betaTiltVec: (systemMetrics?.shiftVector?.betaTiltVec ?? [0, -1, 0]) as [number, number, number],
  gTarget, R_geom,
  gEff_check: (systemMetrics?.shiftVector?.epsilonTilt ?? epsilonTilt) * R_geom
}
```

## 3) Mode‑aware power/mass fallbacks in **HelixCore** Hero

Right now the hero uses a fixed “cruise‑ish” fallback (`7.437e-3` MW) regardless of `effectiveMode`. Make this table and use it:

```ts
const MODE_TARGET = {
  standby:   { P_W: 0,        M_kg: 0    },
  hover:     { P_W: 83.3e6,   M_kg: 1000 },
  cruise:    { P_W: 7.437e3,  M_kg: 1000 }, // 7.437 kW
  emergency: { P_W: 297.5e6,  M_kg: 1000 },
} as const;

const targets = MODE_TARGET[effectiveMode];
```

Then pass:

```tsx
powerAvg_MW: isFiniteNumber(pipeline?.P_avg) ? pipeline!.P_avg! : (targets.P_W / 1e6),
exoticMass_kg: isFiniteNumber(pipeline?.M_exotic) ? pipeline!.M_exotic! : targets.M_kg,
gammaVanDenBroeck: isFiniteNumber(pipeline?.gammaVanDenBroeck) ? pipeline!.gammaVanDenBroeck! : 3.83e1,
tsRatio: isFiniteNumber(pipeline?.TS_ratio) ? pipeline!.TS_ratio! : 5.03e4,
```

## 4) Ford–Roman ζ fallback (still `0.032`) in **HelixCore**

Nix the magic number in the Compliance HUD and elsewhere:

```tsx
ζ = { fmt(pipelineState?.zeta ?? systemMetrics?.fordRoman?.value, 3, '—') }
```

Also remove the hardcoded `0.032` in `FuelGauge`, `TripPlayer`, and `RouteSteps` perf props—prefer pipeline values or leave undefined.

## 5) Time‑Scale card (still uses `4102.7` and “SAFE if TS<1”)

Make it consistent with the rest (TS ≫ 1 in normal ops; SAFE when **> 1**, and fallback `5.03e4`):

```tsx
<span className="font-mono text-sm">
  TS = {fmt(pipelineState?.TS_ratio ?? systemMetrics?.timeScaleRatio, 1, '5.03e4')}
</span>
<Badge className={`${(pipelineState?.TS_ratio ?? systemMetrics?.timeScaleRatio ?? 0) > 1
  ? 'bg-green-500/20 text-green-400' : 'bg-yellow-500/20 text-yellow-400'}`}>
  {(pipelineState?.TS_ratio ?? systemMetrics?.timeScaleRatio ?? 0) > 1 ? 'SAFE' : 'CHECK'}
</Badge>
```

## 6) “Curvature Threshold” label (it’s mass proxy, not R)

You’re showing `|U_cycle|/c²` but labeling it `R`. Either compute a curvature proxy or relabel. Quick relabel:

```tsx
<span className="text-sm">Energy Budget Proxy</span>
<span className="font-mono text-sm">
  M_eq = {fexp(Math.abs(pipelineState?.U_cycle ?? 0) / 9e16, 0, '—')} kg
</span>
```

## 7) γ\_VdB tooltip text

Update the copy to reflect mode‑dependent calibration:

```tsx
<p className="opacity-80">
  Used here as a mass‑only calibration; it may vary by mode to hold the exotic‑mass target.
</p>
```

## 8) `FuelGauge` / `TripPlayer` defaults (hover numbers leak into other modes)

Swap those hardcoded fallbacks for the same `MODE_TARGET` table used in the hero:

```tsx
<FuelGauge
  mode={pipelineState?.currentMode || 'Hover'}
  powerMW={isFiniteNumber(pipelineState?.P_avg) ? pipelineState!.P_avg! : (MODE_TARGET[effectiveMode].P_W/1e6)}
  zeta={pipelineState?.zeta}
  tsRatio={pipelineState?.TS_ratio}
  ...
/>
```

…and likewise in `TripPlayer`’s `getState()` and perf block.

---

If you apply those eight fixes, both files will be aligned with the pipeline model (including the 1% burst, TS semantics, and mode‑aware targets). Want me to hand you a tiny `ui-physics.ts` you can import so these constants/functions live in one place?
