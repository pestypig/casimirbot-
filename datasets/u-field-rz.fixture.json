{
  "schema_version": "dataset_manifest/1",
  "kind": "dataset_manifest",
  "created_at": "2025-01-01T00:00:00.000Z",
  "name": "u-field-rz-fixture",
  "description": "Deterministic R-Z u_field fixture for curvature unit (4x3 grid).",
  "entries": [
    {
      "id": "u-field-rz:fixture:v1",
      "pipeline": "physics.curvature.unit",
      "input": {
        "grid": { "nx": 4, "ny": 3, "dx_m": 0.1, "dy_m": 0.15, "thickness_m": 1 },
        "frame": {
          "kind": "rz-plane",
          "r_min_m": 1.0,
          "r_max_m": 1.3,
          "z_min_m": -0.15,
          "z_max_m": 0.15,
          "axis_order": ["r", "z"]
        },
        "boundary": "dirichlet0",
        "u_field": {
          "encoding": "base64",
          "dtype": "float32",
          "endian": "little",
          "order": "row-major",
          "data_b64": "zczMPc3MTD7NzMw+zcxMP5qZGT4AAIA+MzOzPmZm5j7NzEw9zczMPZqZGT7NzEw+"
        },
        "mask": {
          "encoding": "base64",
          "dtype": "float32",
          "endian": "little",
          "order": "row-major",
          "data_b64": "AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAAAAAAAAAAAAAAAAAAAA"
        },
        "u_manifest": {
          "schema_version": "u_field_manifest/1",
          "version": "v1",
          "device_id": "sparc-sim",
          "channels": [
            {
              "key": "u_deltaB_Jm3",
              "weight": 1,
              "normalization": { "method": "none" },
              "units": "J/m^3"
            },
            {
              "key": "u_gradp",
              "weight": 0.25,
              "normalization": { "method": "scale_offset", "scale": 10 },
              "units": "proxy"
            },
            {
              "key": "u_J",
              "weight": 0.1,
              "normalization": { "method": "scale_offset", "scale": 1, "offset": 0 },
              "units": "proxy"
            },
            {
              "key": "u_rad",
              "weight": 0.05,
              "normalization": { "method": "scale_offset", "scale": 100 },
              "units": "proxy"
            }
          ],
          "total_policy": { "method": "weighted-sum", "normalize_weights": false }
        },
        "metrics": {
          "k0_percentile": 0.95,
          "ridge_high_percentile": 0.9,
          "ridge_low_ratio": 0.5,
          "ridge_min_points": 6,
          "ridge_max_points": 128,
          "ridge_max_count": 64
        },
        "constants": { "c": 299792458, "G": 6.6743e-11 }
      },
      "expected": {
        "hashes": {
          "inputs_hash": "sha256:52edc6ca229ecc8526ddf8cf68cfc5a1f384e9e3ddffda8256e6be57bfd9d53f",
          "features_hash": "sha256:cdc48ccc79daa9934f851063209aa073f6320ce5d47a6de4d91c720cd2e51f28"
        }
      }
    },
    {
      "id": "u-field-rz:fixture:neumann:v1",
      "pipeline": "physics.curvature.unit",
      "input": {
        "grid": { "nx": 4, "ny": 3, "dx_m": 0.1, "dy_m": 0.15, "thickness_m": 1 },
        "frame": {
          "kind": "rz-plane",
          "r_min_m": 1.0,
          "r_max_m": 1.3,
          "z_min_m": -0.15,
          "z_max_m": 0.15,
          "axis_order": ["r", "z"]
        },
        "boundary": "neumann0",
        "u_field": {
          "encoding": "base64",
          "dtype": "float32",
          "endian": "little",
          "order": "row-major",
          "data_b64": "zczMPc3MTD7NzMw+zcxMP5qZGT4AAIA+MzOzPmZm5j7NzEw9zczMPZqZGT7NzEw+"
        },
        "mask": {
          "encoding": "base64",
          "dtype": "float32",
          "endian": "little",
          "order": "row-major",
          "data_b64": "AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAAAAAAAAAAAAAAAAAAAA"
        },
        "u_manifest": {
          "schema_version": "u_field_manifest/1",
          "version": "v1",
          "device_id": "sparc-sim",
          "channels": [
            {
              "key": "u_deltaB_Jm3",
              "weight": 1,
              "normalization": { "method": "none" },
              "units": "J/m^3"
            },
            {
              "key": "u_gradp",
              "weight": 0.25,
              "normalization": { "method": "scale_offset", "scale": 10 },
              "units": "proxy"
            },
            {
              "key": "u_J",
              "weight": 0.1,
              "normalization": { "method": "scale_offset", "scale": 1, "offset": 0 },
              "units": "proxy"
            },
            {
              "key": "u_rad",
              "weight": 0.05,
              "normalization": { "method": "scale_offset", "scale": 100 },
              "units": "proxy"
            }
          ],
          "total_policy": { "method": "weighted-sum", "normalize_weights": false }
        },
        "metrics": {
          "k0_percentile": 0.95,
          "ridge_high_percentile": 0.9,
          "ridge_low_ratio": 0.5,
          "ridge_min_points": 6,
          "ridge_max_points": 128,
          "ridge_max_count": 64
        },
        "constants": { "c": 299792458, "G": 6.6743e-11 }
      },
      "expected": {
        "hashes": {
          "inputs_hash": "sha256:116a343949ed1706b786cf365482e304b6bad85e55c357da15bb54835bd43c27",
          "features_hash": "sha256:96420639a087e08a13b77b55c458f2f98f3177d9661d87210e329e089ce70b96"
        }
      }
    }
  ]
}
